```java
public interface Observable {

    void registerObserver(Observer observer);

    void removeObserver(Observer observer);

    void notifyObserver();

}
```

```java
public interface Observer<T extends Observable> {

    void update(T subject,String message);
}
```

```java
public class WxOfficialAccount implements Observable {
    private List<Observer> observers;
    private String accountName;
    private String message;

    public WxOfficialAccount(String message,String accountName) {
        this.observers = new ArrayList();
        this.accountName = accountName;
        this.message = message;
    }

    public void setMessage(String message) {
        this.message = message;
        notifyObserver();
    }

    public String getMessage() {
        return message;
    }

    public String getAccountName() {
        return accountName;
    }

    public void setAccountName(String accountName) {
        this.accountName = accountName;
    }

    @Override
    public void registerObserver(Observer observer) {
        observers.add(observer);
        observer.update(this,message);
    }

    @Override
    public void removeObserver(Observer observer) {
        if (!observers.isEmpty()) {
            observers.remove(observer);
        }
    }

    @Override
    public void notifyObserver() {
        for (Observer observer : observers) {
            observer.update(this,message);
        }
    }
}
```

```java
public class Follower implements Observer<WxOfficialAccount> {
    private String name;

    public Follower(String name) {
        this.name = name;
    }

    @Override
    public void update(WxOfficialAccount subject,String message) {
        System.out.println("用户["+name+"]收到微信公众号【"+subject.getAccountName()+"】推送的消息:"+message);
    }
}
```

```java
public class ObserverTest {

    @Test
    public void test(){
        WxOfficialAccount officialAccount = new WxOfficialAccount("欢迎关注，等你好久了！","coder_chan");
        Follower follower1 = new Follower("张三");
        Follower follower2 = new Follower("李四");
        Follower follower3 = new Follower("王五");

        officialAccount.registerObserver(follower1);
        officialAccount.registerObserver(follower2);
        officialAccount.registerObserver(follower3);

        officialAccount.setMessage("设计模式");

        officialAccount.removeObserver(follower3);
        officialAccount.setMessage("飞雪连天射白鹿，笑书神侠倚碧鸳。");
    }
}
```

> 用户[张三]收到微信公众号【coder_chan】推送的消息:欢迎关注，等你好久了！
> 用户[李四]收到微信公众号【coder_chan】推送的消息:欢迎关注，等你好久了！
> 用户[王五]收到微信公众号【coder_chan】推送的消息:欢迎关注，等你好久了！
> 用户[张三]收到微信公众号【coder_chan】推送的消息:设计模式
> 用户[李四]收到微信公众号【coder_chan】推送的消息:设计模式
> 用户[王五]收到微信公众号【coder_chan】推送的消息:设计模式
> 用户[张三]收到微信公众号【coder_chan】推送的消息:飞雪连天射白鹿，笑书神侠倚碧鸳。
> 用户[李四]收到微信公众号【coder_chan】推送的消息:飞雪连天射白鹿，笑书神侠倚碧鸳。

